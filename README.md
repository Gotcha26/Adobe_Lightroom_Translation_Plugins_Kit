# Adobe Lightroom Translation Plugins Kit

**Version 2.1 | January 2026**

## What is this?

A set of Python tools to facilitate translation and maintenance of Adobe Lightroom Classic plugin translations. If you develop a Lightroom plugin in Lua and want to make it multilingual, this kit is for you.

## The Problem

Developing a multilingual Lightroom plugin is like trying to juggle multiple balls at once:
- You have hardcoded text in your Lua code ("Submit", "Cancel", "Please wait...")
- You need to extract them and replace them with localization keys
- You need to keep translations up-to-date with every code change
- You need to manage multiple languages without losing existing translations

Without tools, it's tedious and error-prone work.

## The Solution

This kit automates the entire process with 4 simple tools:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 LocalisationToolKit.py                      â”‚
â”‚           ğŸ¯ Main entry point (recommended)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚              â”‚                 â”‚              â”‚
     â–¼              â–¼                 â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Extractorâ”‚  â”‚Applicatorâ”‚  â”‚Translation   â”‚  â”‚  Tools  â”‚
â”‚         â”‚  â”‚          â”‚  â”‚Manager       â”‚  â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 0. LocalisationToolKit.py - The Conductor

This is your single entry point. An interactive menu that guides you and launches the right tools at the right time. No need to get lost in commands!

**Use it as your priority**, it's the simplest way to work with this kit.

### 1. Extractor - The Smart Extractor

It analyzes your Lua files and automatically finds all text strings that should be translated.

**What it does:**
- Scans all your `.lua` files
- Detects hardcoded text (`"Submit"`, `"Cancel"`, etc.)
- Intelligently ignores logs, technical values, already localized keys
- Generates a `TranslatedStrings_en.txt` file compliant with the Lightroom SDK
- Creates metadata to preserve spaces and formatting
- Produces a `replacements.json` file for the Applicator

**Usage example:**
```bash
# Via main menu (recommended)
python LocalisationToolKit.py

# Or directly via CLI
python 1_Extractor/Extractor_main.py --plugin-path ./myPlugin.lrplugin
```

### 2. Applicator - The Precise Applicator

It takes the extracted strings and automatically replaces hardcoded text in your code with calls to the `LOC` localization function.

**What it does:**
- Reads the `replacements.json` file generated by Extractor
- Replaces `"Submit"` with `LOC "$$$/MyPlugin/Submit=Submit"`
- Creates automatic backups of your files (in `__i18n_tmp__/Applicator/backups/`)
- Preserves spaces, concatenations and formatting
- Generates a detailed report of modifications

**Lightroom SDK Format:**
The `LOC "$$$/Key=Default"` format is mandatory. The default value after `=` allows Lightroom to display something even if the translation doesn't exist yet.

**Usage example:**
```bash
# Via main menu (recommended)
python LocalisationToolKit.py

# Or directly via CLI
python 2_Applicator/Applicator_main.py --plugin-path ./myPlugin.lrplugin
```

### 3. TranslationManager - The Version Manager

This is the pivot for keeping your translations up-to-date over time. It compares two versions of your extractions and identifies what has changed.

**What it does:**
- **COMPARE**: Compares an old and a new extraction
  - Identifies added, modified, deleted keys
  - Generates `UPDATE_en.json` and `CHANGELOG.txt`
- **EXTRACT**: Creates small `TRANSLATE_xx.txt` files with only the new keys to translate
- **INJECT**: Reinjects translations into complete language files
- **SYNC**: Synchronizes all language files with the English reference version
  - Adds `[NEW]` for new keys
  - Marks `[NEEDS_REVIEW]` for modified keys
  - Removes obsolete keys

**Typical Workflow:**
```
Modified code
    â”‚
    â–¼
Extractor â†’ new TranslatedStrings_en.txt
    â”‚
    â–¼
COMPARE (old vs new)
    â”‚
    â–¼
EXTRACT (generates TRANSLATE_fr.txt, TRANSLATE_de.txt, etc.)
    â”‚
    â–¼
[You translate the TRANSLATE_xx.txt files]
    â”‚
    â–¼
INJECT (merges into TranslatedStrings_xx.txt)
    â”‚
    â–¼
SYNC (finalizes all language files)
```

**Usage example:**
```bash
# Via main menu (recommended)
python LocalisationToolKit.py

# Or directly via CLI
python 3_Translation_manager/TranslationManager.py compare --old old.txt --new new.txt --plugin-path ./myPlugin.lrplugin
python 3_Translation_manager/TranslationManager.py extract --plugin-path ./myPlugin.lrplugin --locales ./myPlugin.lrplugin
python 3_Translation_manager/TranslationManager.py sync --plugin-path ./myPlugin.lrplugin --locales ./myPlugin.lrplugin
```

### 4. Tools - The Toolbox

Two handy little utilities:

- **Delete_temp_dir.py**: Deletes the temporary `__i18n_tmp__` folder (cleans up space)
- **Restore_backup.py**: Restores files from backups created by Applicator (undoes changes)

**Usage example:**
```bash
# Via main menu (recommended)
python LocalisationToolKit.py

# Or directly via CLI
python 9_Tools/Delete_temp_dir.py
python 9_Tools/Restore_backup.py
```

## Organization of Generated Files

All tools generate their outputs in a temporary `__i18n_tmp__` folder (configurable) at the root of your plugin:

```
myPlugin.lrplugin/
â”œâ”€â”€ Info.lua
â”œâ”€â”€ *.lua
â”œâ”€â”€ TranslatedStrings_en.txt
â”œâ”€â”€ TranslatedStrings_fr.txt
â””â”€â”€ __i18n_tmp__/                    â† Temporary folder
    â”œâ”€â”€ Extractor/
    â”‚   â”œâ”€â”€ 20260129_143022/         â† Execution timestamp
    â”‚   â”‚   â”œâ”€â”€ TranslatedStrings_en.txt
    â”‚   â”‚   â”œâ”€â”€ spacing_metadata.json
    â”‚   â”‚   â”œâ”€â”€ replacements.json
    â”‚   â”‚   â””â”€â”€ extraction_report.txt
    â”‚   â””â”€â”€ 20260129_151500/         â† Another execution
    â”‚       â””â”€â”€ ...
    â”œâ”€â”€ Applicator/
    â”‚   â””â”€â”€ 20260129_143530/
    â”‚       â”œâ”€â”€ application_report.txt
    â”‚       â””â”€â”€ backups/
    â”‚           â””â”€â”€ *.bak
    â”œâ”€â”€ TranslationManager/
    â”‚   â””â”€â”€ 20260129_144000/
    â”‚       â”œâ”€â”€ UPDATE_en.json
    â”‚       â”œâ”€â”€ CHANGELOG.txt
    â”‚       â”œâ”€â”€ TRANSLATE_fr.txt
    â”‚       â””â”€â”€ ...
    â””â”€â”€ Tools/
        â””â”€â”€ 20260129_145000/
            â””â”€â”€ restore_log.txt
```

Each execution creates a timestamped subfolder to preserve history. Reports and intermediate files are organized by tool.

## Concrete Use Cases

### Case 1: First Multilingual Plugin

You've developed a plugin entirely in English with hardcoded text. You want to make it multilingual.

1. Launch `LocalisationToolKit.py`
2. Configure your plugin path (option 6)
3. Run **Extractor** (option 1) to extract all strings
4. Run **Applicator** (option 2) to replace hardcoded text with LOC calls
5. Restart Lightroom and test
6. Copy `TranslatedStrings_en.txt` and rename it to `TranslatedStrings_fr.txt`, `TranslatedStrings_de.txt`, etc.
7. Translate the values in these files

### Case 2: Updating an Existing Plugin

You already have a multilingual plugin and you just added new features with new text.

1. Run **Extractor** to create a new extraction
2. Run **TranslationManager** (option 3) â†’ **COMPARE**
   - Select the old extraction
   - Select the new extraction
3. Run **EXTRACT** to generate `TRANSLATE_xx.txt` files with only the new keys
4. Translate these small files (much faster than retranslating everything!)
5. Run **INJECT** to merge translations into complete files
6. Run **SYNC** to finalize and mark keys for review
7. Run **Applicator** to apply new localizations to code
8. Restart Lightroom and test

### Case 3: Correcting an Existing Translation

You found an error in a translation or want to improve a text.

1. Open the `TranslatedStrings_xx.txt` file directly in your editor
2. Modify the value of the concerned key
3. Restart Lightroom completely (a simple reload is not enough)
4. Test

No tools needed for this simple case!

### Case 4: Restoration After an Error

You ran Applicator but the result doesn't suit you.

1. Launch `LocalisationToolKit.py`
2. Choose **Restore** (option 4)
3. Select the backup to restore
4. Your files are restored to their initial state

## Prerequisites

- Python 3.7 or higher
- An Adobe Lightroom Classic plugin (`.lua` files)
- Windows system (mainly tested, but Linux/Mac compatible)

## Installation

1. Clone or download this repository
2. Make sure Python is installed
3. Run `python LocalisationToolKit.py`

No external dependencies required, only the Python standard library.

## Configuration

The `config.json` file (created automatically) stores your preferences:
- Plugin path
- LOC keys prefix (e.g., `$$$/MyPlugin`)
- Default language (usually `en`)
- Temporary folder name (default `__i18n_tmp__`)

You can modify these settings via the menu or edit the JSON file directly.

## FAQ

### Do I need to translate all keys?

No! The Lightroom SDK fallback system displays the default value (in English) if a translation is missing. You can translate progressively.

### Can I use the tools via command line?

Yes! All tools support full CLI mode. The `LocalisationToolKit.py` also offers quick commands:
```bash
python LocalisationToolKit.py extract
python LocalisationToolKit.py apply
python LocalisationToolKit.py translate
```

### What if Lightroom doesn't display my translations?

1. Check that the `TranslatedStrings_xx.txt` file is at the plugin root
2. The filename must match the system language (e.g., `TranslatedStrings_fr.txt` for French)
3. Restart Lightroom completely (not just "Reload Plugin")
4. Check that the keys in the file match those in the code

### Can I manually edit the generated files?

Yes! The `TranslatedStrings_xx.txt` files are simple text files. You can edit them by hand. JSON files are also editable but watch the syntax.

### What does `[NEW]` or `[NEEDS_REVIEW]` mean in my files?

These are markers added by the TranslationManager's **SYNC** command:
- `[NEW]`: New key to translate
- `[NEEDS_REVIEW]`: English value modified, translation needs review

Translate these entries then remove the marker.

### The `__i18n_tmp__` folder takes up a lot of space

You can delete it without risk via option 5 of the main menu or manually. It will be recreated automatically on the next execution. Remember to do this regularly to save space.

### Can I contribute or report a bug?

Absolutely! This project is open to contributions. Use GitHub issues to report bugs or suggest improvements.

## Credits

**Developed by Julien MOREAU** with the help of **Claude (Anthropic)**.

This project was born from a personal need for a very small initial use. Without in-depth knowledge in the field and thanks to Claude's assistance, I managed to create a powerful tool capable of serving other Lightroom plugin developers.

Contributions are greatly welcomed and feedback is encouraged. Don't hesitate to share your experiences and suggestions!

Make it happen!

## Resources

- [Adobe Lightroom Classic SDK](https://developer.adobe.com/console) - Official documentation
- [Localization format](https://developer.adobe.com/console/servicesandapis) - `LOC "$$$/Key=Default"`
- [Python timestamps](https://docs.python.org/3/library/datetime.html) - Strict format `YYYYMMDD_HHMMSS`

## License

This project is open source. Use it freely for your Lightroom plugins!

---

**Need help?** Check out the technical documentation in the `__doc` subfolders of each tool for more details.
